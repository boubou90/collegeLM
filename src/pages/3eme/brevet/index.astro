---
import ClassLayout from '../../../layouts/ClassLayout.astro';
import BrevetSection from '../../../components/Brevet/BrevetSection.astro';
import EpreuveCard from '../../../components/Brevet/EpreuveCard.astro';
import BrevetQuiz from '../../../components/BrevetQuiz';

const epreuves = [
  { title: "Fran√ßais",           coefficient: 3, duration: "3h",   points: 100 },
  { title: "Math√©matiques",      coefficient: 3, duration: "2h",   points: 100 },
  { title: "Histoire-G√©o-EMC",   coefficient: 3, duration: "2h",   points: 50  },
  { title: "Sciences",           coefficient: 1, duration: "1h",   points: 50  },
  { title: "Technologie ‚òÖ",      coefficient: 1, duration: "1h30", points: 50  },
];

interface Subject {
  name: string;
  subject: string;
  correction: string;
  analyseFonctionnelle: boolean;
  chainesEnergie: boolean;
  programmation: boolean;
  reseau: boolean;
  _sId: string;
  _cId: string;
}

const brevetSubjects: Subject[] = [
  { name: "Aspirateur",                    subject: "/documents/3eme/brevet/aspirateur-sujet.pdf",                     correction: "/documents/3eme/brevet/aspirateur-correction.pdf",                    analyseFonctionnelle: true,  chainesEnergie: false, programmation: false, reseau: true,  _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Freinage ABS",                  subject: "/documents/3eme/brevet/abs-sujet.pdf",                             correction: "/documents/3eme/brevet/abs-correction.pdf",                           analyseFonctionnelle: false, chainesEnergie: true,  programmation: true,  reseau: true,  _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Irrigation en Afrique",         subject: "/documents/3eme/brevet/irrigation-sujet.pdf",                      correction: "/documents/3eme/brevet/irrigation-correction.pdf",                     analyseFonctionnelle: false, chainesEnergie: false, programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Hydrolienne",                   subject: "/documents/3eme/brevet/Hydrolienne-sujet.pdf",                     correction: "/documents/3eme/brevet/Hydrolienne-correction.pdf",                    analyseFonctionnelle: true,  chainesEnergie: false, programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Piscine",                       subject: "/documents/3eme/brevet/Piscine-sujet.pdf",                         correction: "/documents/3eme/brevet/Piscine-correction.pdf",                        analyseFonctionnelle: true,  chainesEnergie: true,  programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Serre automatis√©e",             subject: "/documents/3eme/brevet/Serre-automatis√©e-sujet.pdf",               correction: "/documents/3eme/brevet/Serre-automatis√©e-correction.pdf",              analyseFonctionnelle: true,  chainesEnergie: true,  programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Sirop d'√©rable",               subject: "/documents/3eme/brevet/Sirop-d-√©rable-sujet.pdf",                  correction: "/documents/3eme/brevet/Sirop-d-√©rable-correction.pdf",                 analyseFonctionnelle: true,  chainesEnergie: false, programmation: false, reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Bioanalyseur",                  subject: "/documents/3eme/brevet/Bioanalyseur-sujet.pdf",                    correction: "/documents/3eme/brevet/Bioanalyseur-correction.pdf",                   analyseFonctionnelle: true,  chainesEnergie: true,  programmation: false, reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "√âclairage coll√®ge",             subject: "/documents/3eme/brevet/Eclairage-college-sujet.pdf",               correction: "/documents/3eme/brevet/Eclairage-college-correction.pdf",              analyseFonctionnelle: false, chainesEnergie: false, programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Barrage",                       subject: "/documents/3eme/brevet/Barrage-sujet.pdf",                         correction: "/documents/3eme/brevet/Barrage-correction.pdf",                        analyseFonctionnelle: true,  chainesEnergie: true,  programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "√âchographe",                    subject: "/documents/3eme/brevet/Echographe1-sujet.pdf",                     correction: "/documents/3eme/brevet/Echographe1-correction.pdf",                    analyseFonctionnelle: true,  chainesEnergie: false, programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Robot explorateur",             subject: "/documents/3eme/brevet/Robot-explorateur-sujet.pdf",               correction: "/documents/3eme/brevet/Robot-explorateur-correction.pdf",              analyseFonctionnelle: true,  chainesEnergie: false, programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Microscope",                    subject: "/documents/3eme/brevet/Microscope-sujet.pdf",                      correction: "/documents/3eme/brevet/Microscope-correction.pdf",                     analyseFonctionnelle: true,  chainesEnergie: false, programmation: false, reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "La Prise Connect√©e",            subject: "/documents/3eme/brevet/La-prise-connectee.pdf",                    correction: "/documents/3eme/brevet/La-prise-connectee-correction.pdf",             analyseFonctionnelle: false, chainesEnergie: true,  programmation: true,  reseau: true,  _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Le Mur V√©g√©tal",               subject: "/documents/3eme/brevet/Le-mur-vegetal.pdf",                        correction: "/documents/3eme/brevet/Le-mur-vegetal-correction.pdf",                 analyseFonctionnelle: false, chainesEnergie: true,  programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Le Chauffe-eau",               subject: "/documents/3eme/brevet/Le-chauffe-eau.pdf",                        correction: "/documents/3eme/brevet/Le-chauffe-eau-correction.pdf",                 analyseFonctionnelle: true,  chainesEnergie: true,  programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Le Tapis de Course",           subject: "/documents/3eme/brevet/Le-tapis-de-course.pdf",                    correction: "/documents/3eme/brevet/Le-tapis-de-course-correction.pdf",             analyseFonctionnelle: true,  chainesEnergie: true,  programmation: true,  reseau: true,  _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Robot Collecteur de D√©chets",  subject: "/documents/3eme/brevet/Le-robot-collecteur-de-dechets.pdf",        correction: "/documents/3eme/brevet/Le-robot-collecteur-de-dechets-correction.pdf", analyseFonctionnelle: true,  chainesEnergie: true,  programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Le Gyropode",                  subject: "/documents/3eme/brevet/Brevet-blanc-gyropode.pdf",                 correction: "/documents/3eme/brevet/Brevet-blanc-corrige-gyropode.pdf",             analyseFonctionnelle: true,  chainesEnergie: true,  programmation: false, reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "Ascenseur",                    subject: "/documents/3eme/brevet/sujet-Ascenseur.pdf",                       correction: "/documents/3eme/brevet/sujet-Ascenseur-corrig√©.pdf",                   analyseFonctionnelle: true,  chainesEnergie: true,  programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
  { name: "R√©cup√©ration Eau de Pluie",    subject: "/documents/3eme/brevet/eau de pluie.pdf",                          correction: "/documents/3eme/brevet/eau de pluie-correction.pdf",                   analyseFonctionnelle: false, chainesEnergie: true,  programmation: true,  reseau: false, _sId: `pdf-${Math.random().toString(36).slice(2,9)}`, _cId: `pdf-${Math.random().toString(36).slice(2,9)}` },
];
---

<ClassLayout
  title="Brevet Technologie ‚Äî 21 Sujets Corrig√©s √† T√©l√©charger"
  level="3eme"
  description="Pr√©pare ton Brevet de technologie : 21 sujets corrig√©s (Gyropode, Ascenseur, Hydrolienne, Robot‚Ä¶), fiches de r√©vision et quiz interactifs. 1h30 ¬∑ 50 points ¬∑ Gratuit."
>
  <div class="brevet-container">

    <header class="brevet-hero">
      <h1>Brevet des Coll√®ges ‚Äî Technologie</h1>
      <p class="brevet-subtitle">21 sujets corrig√©s ¬∑ 1h30 ¬∑ 50 points ¬∑ 100&nbsp;% gratuit</p>
    </header>

    <!-- ‚îÄ‚îÄ Intro SEO ‚îÄ‚îÄ -->
    <section class="brevet-intro" data-aos="fade-up">
      <h2>L'√©preuve de technologie au Brevet</h2>
      <div class="intro-grid">
        <div class="intro-block">
          <h3>üìã Structure de l'√©preuve</h3>
          <p>L'√©preuve √©crite de technologie dure <strong>1h30</strong> et est not√©e sur <strong>50 points</strong> (coefficient 1). Elle comporte deux √† trois dossiers portant chacun sur un objet ou syst√®me technique. Chaque dossier m√™le analyse fonctionnelle, cha√Ænes d'√©nergie et/ou programmation.</p>
        </div>
        <div class="intro-block">
          <h3>üéØ Th√®mes les plus fr√©quents</h3>
          <ul>
            <li><strong>Programmation</strong> ‚Äî pr√©sente dans 76&nbsp;% des sujets</li>
            <li><strong>Analyse fonctionnelle</strong> ‚Äî pr√©sente dans 71&nbsp;% des sujets</li>
            <li><strong>Cha√Ænes d'√©nergie</strong> ‚Äî pr√©sente dans 62&nbsp;% des sujets</li>
            <li><strong>R√©seaux</strong> ‚Äî pr√©sente dans 19&nbsp;% des sujets</li>
          </ul>
        </div>
        <div class="intro-block">
          <h3>‚úÖ M√©thode en 4 √©tapes</h3>
          <ol>
            <li>Lire le <strong>dossier technique</strong> en entier avant de r√©pondre</li>
            <li>Identifier le <strong>th√®me principal</strong> (√©nergie, programmation‚Ä¶)</li>
            <li>R√©pondre en vous appuyant <strong>sur les documents fournis</strong></li>
            <li>V√©rifier que chaque r√©ponse est <strong>justifi√©e</strong></li>
          </ol>
        </div>
        <div class="intro-block">
          <h3>‚ùì FAQ</h3>
          <ul>
            <li><strong>Calculatrice autoris√©e ?</strong> Non, sauf indication contraire.</li>
            <li><strong>Faut-il conna√Ætre tous les th√®mes ?</strong> Oui ‚Äî un sujet peut m√™ler 2 ou 3 domaines.</li>
            <li><strong>Coefficient technologie ?</strong> 1 (contr√¥le continu + √©preuve √©crite).</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ‚îÄ‚îÄ √âpreuves ‚îÄ‚îÄ -->
    <BrevetSection
      title="√âpreuves du DNB"
      description="Le Dipl√¥me National du Brevet (DNB) √©value les connaissances et comp√©tences acquises √† la fin du coll√®ge. Il combine contr√¥le continu et √©preuves √©crites finales."
    >
      <div class="epreuves-grid">
        {epreuves.map(e => (
          <EpreuveCard {...e} />
        ))}
      </div>
      <p class="techno-note">‚òÖ La technologie fait partie des √©preuves √©crites de sp√©cialit√© ‚Äî c'est la mati√®re centrale de ce site !</p>
    </BrevetSection>

    <!-- ‚îÄ‚îÄ 21 sujets en grille ‚îÄ‚îÄ -->
    <section class="sujets-section" data-aos="fade-up">
      <h2>21 Sujets Corrig√©s ‚Äî Technologie</h2>
      <p class="sujets-intro">Tous les sujets sont disponibles en lecture directe et en t√©l√©chargement. Filtre par th√®me gr√¢ce aux √©tiquettes color√©es.</p>

      <div class="sujets-grid">
        {brevetSubjects.map(s => (
          <article class="sujet-card">
            <h3 class="sujet-name">{s.name}</h3>

            <div class="sujet-tags">
              {s.analyseFonctionnelle && <span class="tag tag-af">Analyse fonctionnelle</span>}
              {s.chainesEnergie       && <span class="tag tag-ce">Cha√Ænes d'√©nergie</span>}
              {s.programmation        && <span class="tag tag-prog">Programmation</span>}
              {s.reseau               && <span class="tag tag-net">R√©seau</span>}
            </div>

            <div class="sujet-actions">
              <button class="pdf-open-btn btn-sujet" data-pdf-id={s._sId} data-pdf-src={s.subject}>
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                Sujet
              </button>
              <button class="pdf-open-btn btn-corrige" data-pdf-id={s._cId} data-pdf-src={s.correction}>
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                Corrig√©
              </button>
            </div>

            <!-- Modal sujet -->
            <div id={s._sId} class="pdf-modal" role="dialog" aria-modal="true" aria-label={`Sujet : ${s.name}`}>
              <div class="pdf-backdrop"></div>
              <div class="pdf-window">
                <div class="pdf-header">
                  <div class="pdf-header-left">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="1.5"><path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
                    <span>{s.name} ‚Äî Sujet</span>
                  </div>
                  <div class="pdf-header-right">
                    <a href={s.subject} download class="pdf-dl-btn">
                      <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
                      T√©l√©charger
                    </a>
                    <button class="pdf-close-btn" aria-label="Fermer">
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                    </button>
                  </div>
                </div>
                <div class="pdf-body">
                  <iframe class="pdf-iframe" data-src={s.subject} title={`${s.name} ‚Äî Sujet`} loading="lazy"></iframe>
                  <div class="pdf-fallback">
                    <p class="fb-emoji">üìÑ</p>
                    <p class="fb-name">{s.name} ‚Äî Sujet</p>
                    <p class="fb-info">La visionneuse n'est pas disponible sur mobile.</p>
                    <a href={s.subject} download class="fb-dl">üì• T√©l√©charger le PDF</a>
                    <a href={s.subject} target="_blank" rel="noopener noreferrer" class="fb-open">Ouvrir dans le navigateur ‚Üí</a>
                  </div>
                </div>
              </div>
            </div>

            <!-- Modal corrig√© -->
            <div id={s._cId} class="pdf-modal" role="dialog" aria-modal="true" aria-label={`Corrig√© : ${s.name}`}>
              <div class="pdf-backdrop"></div>
              <div class="pdf-window">
                <div class="pdf-header">
                  <div class="pdf-header-left">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#22c55e" stroke-width="1.5"><path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
                    <span>{s.name} ‚Äî Corrig√©</span>
                  </div>
                  <div class="pdf-header-right">
                    <a href={s.correction} download class="pdf-dl-btn">
                      <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
                      T√©l√©charger
                    </a>
                    <button class="pdf-close-btn" aria-label="Fermer">
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                    </button>
                  </div>
                </div>
                <div class="pdf-body">
                  <iframe class="pdf-iframe" data-src={s.correction} title={`${s.name} ‚Äî Corrig√©`} loading="lazy"></iframe>
                  <div class="pdf-fallback">
                    <p class="fb-emoji">‚úÖ</p>
                    <p class="fb-name">{s.name} ‚Äî Corrig√©</p>
                    <p class="fb-info">La visionneuse n'est pas disponible sur mobile.</p>
                    <a href={s.correction} download class="fb-dl">üì• T√©l√©charger le corrig√©</a>
                    <a href={s.correction} target="_blank" rel="noopener noreferrer" class="fb-open">Ouvrir dans le navigateur ‚Üí</a>
                  </div>
                </div>
              </div>
            </div>

          </article>
        ))}
      </div>
    </section>

    <!-- ‚îÄ‚îÄ Quiz ‚îÄ‚îÄ -->
    <BrevetSection
      title="üéØ Quiz type Brevet ‚Äî Technologie"
      description="5 questions sur les th√®mes cl√©s du programme : cha√Ænes d'√©nergie, logigrammes, analyse fonctionnelle et r√©seaux. Avec explications d√©taill√©es pour chaque r√©ponse."
    >
      <BrevetQuiz client:load />
    </BrevetSection>

  </div>
</ClassLayout>

<style>
  .brevet-container {
    max-width: 1100px;
    margin: 0 auto;
  }

  /* ‚îÄ‚îÄ Hero ‚îÄ‚îÄ */
  .brevet-hero {
    text-align: center;
    margin-bottom: 2rem;
  }

  h1 {
    color: var(--primary-dark);
    font-size: 2.2rem;
    margin-bottom: 0.5rem;
  }

  .brevet-subtitle {
    color: #f97316;
    font-weight: 700;
    font-size: 1rem;
  }

  /* ‚îÄ‚îÄ Intro SEO ‚îÄ‚îÄ */
  .brevet-intro {
    background: #fff7ed;
    border-left: 4px solid #f97316;
    border-radius: 0.75rem;
    padding: 1.5rem 1.75rem;
    margin-bottom: 2rem;
  }

  .brevet-intro h2 {
    color: #c2410c;
    font-size: 1.25rem;
    margin-bottom: 1rem;
  }

  .intro-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1.25rem;
  }

  .intro-block {
    background: white;
    border-radius: 0.5rem;
    padding: 1rem;
  }

  .intro-block h3 {
    font-size: 0.95rem;
    font-weight: 700;
    color: #9a3412;
    margin-bottom: 0.6rem;
  }

  .intro-block p,
  .intro-block li {
    font-size: 0.875rem;
    color: #374151;
    line-height: 1.6;
  }

  .intro-block ul,
  .intro-block ol {
    padding-left: 1.1rem;
  }

  .intro-block li {
    margin-bottom: 0.25rem;
  }

  /* ‚îÄ‚îÄ √âpreuves ‚îÄ‚îÄ */
  .epreuves-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
  }

  .techno-note {
    margin-top: 0.75rem;
    font-size: 0.85rem;
    color: #f97316;
    font-weight: 600;
  }

  /* ‚îÄ‚îÄ Sujets grille ‚îÄ‚îÄ */
  .sujets-section {
    margin: 2rem 0;
  }

  .sujets-section h2 {
    color: var(--primary-dark);
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .sujets-intro {
    color: #64748b;
    font-size: 0.9rem;
    margin-bottom: 1.5rem;
  }

  .sujets-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 1rem;
  }

  .sujet-card {
    background: white;
    border-radius: 0.75rem;
    padding: 1.1rem 1.2rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.07);
    display: flex;
    flex-direction: column;
    gap: 0.65rem;
    border: 1px solid #e2e8f0;
    transition: box-shadow 0.2s, transform 0.2s;
  }

  .sujet-card:hover {
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
    transform: translateY(-2px);
  }

  [data-theme="dark"] .sujet-card {
    background: var(--card-bg);
    border-color: var(--border-color);
  }

  .sujet-name {
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--primary-dark);
    margin: 0;
    line-height: 1.3;
  }

  [data-theme="dark"] .sujet-name { color: #93c5fd; }

  .sujet-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.35rem;
  }

  .tag {
    font-size: 0.7rem;
    font-weight: 600;
    padding: 0.15rem 0.5rem;
    border-radius: 999px;
    white-space: nowrap;
  }

  .tag-af   { background: #dbeafe; color: #1d4ed8; }
  .tag-ce   { background: #dcfce7; color: #15803d; }
  .tag-prog { background: #fef3c7; color: #92400e; }
  .tag-net  { background: #f3e8ff; color: #7e22ce; }

  .sujet-actions {
    display: flex;
    gap: 0.5rem;
    margin-top: auto;
  }

  .btn-sujet,
  .btn-corrige {
    flex: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.35rem;
    padding: 0.5rem 0.6rem;
    border: none;
    border-radius: 0.4rem;
    font-size: 0.8rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-sujet  { background: #ef4444; color: white; }
  .btn-sujet:hover  { background: #dc2626; transform: translateY(-1px); }

  .btn-corrige { background: #22c55e; color: white; }
  .btn-corrige:hover { background: #16a34a; transform: translateY(-1px); }

  /* ‚îÄ‚îÄ PDF Modal (pattern KnowledgeSheet) ‚îÄ‚îÄ */
  .pdf-modal {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 1rem;
  }
  .pdf-modal.is-open { display: flex; }

  .pdf-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.72);
    backdrop-filter: blur(4px);
  }

  .pdf-window {
    position: relative;
    z-index: 1;
    width: 100%;
    max-width: 1000px;
    height: 90vh;
    background: white;
    border-radius: 1rem;
    box-shadow: 0 30px 60px rgba(0,0,0,0.4);
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .pdf-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.65rem 1rem;
    border-bottom: 1px solid #e2e8f0;
    background: #f8fafc;
    gap: 1rem;
    flex-shrink: 0;
  }

  .pdf-header-left {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    min-width: 0;
    flex: 1;
  }

  .pdf-header-left span {
    font-weight: 600;
    color: #374151;
    font-size: 0.875rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .pdf-header-right {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    flex-shrink: 0;
  }

  .pdf-dl-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    background: #2563eb;
    color: white;
    padding: 0.35rem 0.7rem;
    border-radius: 0.4rem;
    font-size: 0.78rem;
    font-weight: 600;
    text-decoration: none;
    transition: background 0.2s;
  }
  .pdf-dl-btn:hover { background: #1d4ed8; }

  .pdf-close-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    border: none;
    background: none;
    cursor: pointer;
    color: #9ca3af;
    border-radius: 0.375rem;
    transition: all 0.15s;
  }
  .pdf-close-btn:hover { color: #111827; background: #f3f4f6; }

  .pdf-body {
    flex: 1;
    background: #f1f5f9;
    overflow: hidden;
    position: relative;
  }

  .pdf-iframe {
    width: 100%;
    height: 100%;
    border: none;
    display: block;
  }

  .pdf-fallback {
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    height: 100%;
    padding: 2rem;
    text-align: center;
  }

  .fb-emoji { font-size: 3.5rem; margin: 0; }
  .fb-name  { font-weight: 600; color: #374151; font-size: 1rem; margin: 0; }
  .fb-info  { font-size: 0.875rem; color: #64748b; margin: 0; }

  .fb-dl {
    background: #2563eb;
    color: white;
    padding: 0.65rem 1.25rem;
    border-radius: 0.6rem;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9rem;
    transition: background 0.2s;
  }
  .fb-dl:hover { background: #1d4ed8; }

  .fb-open { color: #2563eb; font-size: 0.875rem; text-decoration: none; }
  .fb-open:hover { text-decoration: underline; }

  @media (max-width: 640px) {
    h1 { font-size: 1.6rem; }
    .pdf-iframe { display: none; }
    .pdf-fallback { display: flex; }
    .pdf-window { height: 80vh; }
    .sujets-grid { grid-template-columns: 1fr; }
  }
</style>

<script>
  import '../../../scripts/pdfModal';
</script>
